<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Google Login</title>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <script>
    let jwtToken = null;

    function handleCredentialResponse(response) {
      jwtToken = response.credential;
    }

    function verifyAndSubmit() {
      const recaptchaResponse = grecaptcha.getResponse();
      if (!recaptchaResponse) {
        alert("reCAPTCHA 확인을 완료해주세요.");
        return;
      }

      if (!jwtToken) {
        alert("Google 로그인을 먼저 완료해주세요.");
        return;
      }

      window.opener.location.href = 'home.html';
      window.close();
    }
  </script>
</head>
<body>
  <form onsubmit="verifyAndSubmit(); return false;">
    <div class="g-recaptcha" data-sitekey="6LcWLIUrAAAAAPs1Nj_0_lYhJ3sE_tfDvzVTUnAE"></div>
    <br/>
    <button type="submit">로그인 완료</button>
  </form>

  <div id="g_i_
